language: python

branches:
  only:
  - develop
  - master

python:
- '3.9'

services:
- xvfb

env:
  global:
  - secure: xIfgi+LM3wfJF63YTPqJgnAsMiU+rEG7ezBVL6SibIJZ9qJMPcSYKzmIpzbZjjR5v2sVaC6rOpcjN1CAPKE38rVXjnOygkoQqdsQDqjo93Nw0e0Z2eqRvpAlhiwm/3Or0IcSIDoeegw7qdUB+1KcOL8AAmUUe/nDq6NAisOpnLqAqEKcb3GZ/jJCq98ATI2ZqSK4zTnUyOayo3p15yEHurzUsgXZfu30Bi3TQIOiZtqAZ7BPb+o4UirjSiPf3mUnThiEjrP1fWZPylyczQk7DEhxchp7sT3TTqSP3zErZyMtR8KegTTZqdLgxiRPDmyI3yY0nc4hkkJ/mSVuCq9lVZrrGQn6kyor/fp6RdIJhQfYhirznYdJ05yibFc2gauAc6jA4zoKttshJ0a+lT6pdvMsVzRESMsYtZA6AHNOpbPJKHDi4fiLkTRyi4nkXbKfFob+vdrgm0+jfF53fi1MiRlHMLZMqRKrGe8ADN/wRbRUv+30uftXykP4tvAooQgAG0m2YJnZE2gairt0a5Mt2FX2sDFifeHLQ1DUWVsRErXT++0bE7DNWe6jP8hsznQZid8y5QvOjv7g5nB4KsExRDXinFinx8zfCrdBnexoOrKzETDyqeRWZGniWyhQa06PBMHBr2tbMiUaCJ19xpZd8OAvI5CVUhNhKk2rpFxW3Vk=
  - secure: RWdTcQCbfjPnT5t/FYhrUjCsDCR45knxlHY0N7LXeugya9OZt/TyC8/bBXlaUWqbqdKL8dZrEeNMtq4WnJXjxHkdRiD9+SnGOJvQtKhGzudqtNfJNL7t8eyYOaBhFsWrF1BD9K06M5MYm2BGt9RDVprzCUrwZxOmLW393u1WYqEsFfAzX0Jz+kltvB9pQY7TMSuFKjac3hItRJw6xbOUIET4yuAJ13dQ8aTOvTIL1TKY1ihMz4wo/IhZ/QQaG6o8380Ie06Cgt5EafedPHf0DcjHBvfbcEBStkmEvOvO4r5lTXbsrYm/0w5t/NSId9uRQroiM4E2Y5f9QbdYyeB3HcIX6CIRiSN3h1xjSrN2DK8Y3oqWJoDfFo2Sq6NYDwk1Dy78NnYaVmaQbp1QWPxtHytpiudYg4HwkwJB2j20QGtzlhBJLUR+mX4xS+q6vDgmI3fcqN/bNq8yII4Bmrb9FLYi0AhwceT26Sgk7F95TU6pB0h2QEkX+DaopWW0JR6frljz7stXc2EY/E1qdkDrVrE8N/2NeY23Go6Sm77W47CMu25kkr7YyDeEvCRWAj7Vst04rkbalDQKSaK381eJAihpXfD0RLslQzRIhlcTD6d1MhI8mtYwZbl1RIevdgwkrHM9li6CgjBHnfBd28ZpW56fCJkDYqp6zYx6NmR/p5k=
  - secure: KN2iqTBJpNTMcb9iEx8uBXd9l1a9EmQWGnzAFsBvyA7jj/pJ5VUijsW4C/j3CPw6hK4/HMXY9s67QGjIl3HLBX5O9/UY5MXDQutXlNDocH8dodzI5iShj6Ta92/VMpsI8ksICBzXZlaYrs+WozyP2i08BmVXrqriv2kBiF6CNoR+eLw0fA3iEzaP76kbXt3KP2ciJ1Z6d2JDUBDKYuqPrEj3i0sYZ/+LQBgqllYWcnAKdkjlhXaKIf5BW8rzSjUptEwLV69CGSFyVP5XVVsqHxFMOd3MP/dW6NZ5c+ggN9k5t3qDp5Hghm9EkYIpkEgrxvWrBuNyMhgJ0BPfn58lUQly6vzUm/Btgl3o1Gs1uFdh4uMEXdp3m8iHm+sThFqvchwluPiRtBqtvNiE5QrQDz0xKP9CtRzogwDoOSlbnS3rzGAo7ohMDFat0XEpDLQB2bdCJM3BXcbsFMW0lson/fIYG2rDoeQ99A4kMCNB3FSJCVnu7a89haIsD52B/xu4ujgBkiMLXGrM2XWelYmtpIdqkxVw2Mt7BRXNxVodKHstyK9zi7kV6yJFrtZ70ybq1ILGFknlCoOQXwWZnCmg3Jl49hQsgM6GEmF3aWVktN+Jj+UdFkwL5FU7l9kwPd4jVIg9DX30Yb/8/GeOyv4tbvY0hnAcS/74fOCsrhfjGWw=
  - secure: RcE3fh0Lzgt3Irpt6sGQcKNSMomx4YOn2hmNtRaTLj1h0JCuhhDAkM+udvHg5t7/Y9wL4PDxnF0zyj/4SekZ5yAjgxpUmx0rOrnCyBJ8b5WFkXRiUZ+o20PjNwEodySo6HTcaL16bThNQEtQkIuhcwgEgOBb7qBuhx67Pse682CDzPnvHPCLJOUC16CXBTyTb0ALNrBfGFUzE8aPMPLLU/IanWlerRfxd2NANQiYNgHME13EalSqE0hYCXLBf5kSPBNRe4i5aX72SXHfVtVeMHSSRf3q5BNZ8A7fhFKdgueKDZv78YgcYtiIqnmiGbNNpt12XqVzZ3KlMY9oWC0Lt/EJzjGxPrPgOZmxmVyO+vsgIhg1V01cKXw6MB1/a9D1mUgXuKPLOvtAz30D2MOGBkbnPzSuErOPCdSuSubeFtZV9swW6jUz08s1GpYiB8Ug0WktKVXMXWSzqi6IXEK5kVa3wlaDmLsLMzd+1iTnHuZqySKgByslpxmrqkr4oQPaAGe5D+ouP+PEk7lGFu/47vgO0nRDqHTTm6f3U4fe/3D7i7mMx3WIgz2qHdTB2GlRWCSdBgHafNgGiPzgegbEZmVuuKGuT9daOJDtA8ljCEdpJOvlZGWOrT7P56kNJZhrnaTVxwknihxQUUXxFi1r6QJmeuuwJeRLJBBvDSYg3fI=
  - secure: RZLS1jKqMSYFJKW+BsW3+n8mfqmdLoItxSClsfw+IgpWcKhHwNXqNH8pv7a8Xqjbt+EjR8bB9jHsiJ10EaxH3c8/jfOdt1MnXCKEhZe6nhBc7hHWvIqN6hNfuP8UmQd/dBQDuNtOoRiViog3vf1aa+V3tS7Js1NJKPLI9XIm197LRjrZ6vtUJgXC/l54BHyy/l4wyzcgEM7u3htkFXVegQpwomuksdTwAFXXnJgGkr3XFPQ7uC+HW6B2XxteX4yd1g8X0usNg4ALpwHFud4eEDgqsPagZ9LCpCbx1sertLWoFmpz2QODK0YBrB7KlA3FVT6K62JMuTltIhDrakVYwPHd5x6vi0SGlb1VQIbfTDphBeAuw5F0wNlv57AxRwc2dvLeo636pS5Pl18OC6O2P7LXmCnzsYQMVPwefIixI2UkYd+m6UFUH2uiIV69EAnYf/GJ8dWvN7NSpzjpX93w1bRStmoObvwxa0vwh7NW3xRK7AibUP4g8LlKFx8vGPyo4g/RkGxyYpcKsE0lltV1hrcs8IHWfk9vxIAx++4IfeH66r6cItGT6+dvjwlHYSHd46slWAnuJcrTVmqYgDW3XDHWicR1qDZ/FCS8NL/ksw6ozNRQh1OpVeBRnBqWP1tb4Qhx+n5Xt9gGtfi9HyNpr6PqGvFhvjCGYQPxs4gzHqM=
  - secure: kFqmaxs3M8smKwXRn+DLB6LUHB+vl/j5QEn+0UjWU1DZX2FgQQC1wm6P+XGYJTRrRutEFloZtkuT4i6U45jtApn2r0ysZCxWCjNb93xp3cfIu9UMYi3BAjhqn1hjXfrm/6h7dvy1MWLHpqwIvuQxrV5j0/X+kpJJfQbdQCF9kcGHqDLdACPTTYfKOuheV+4b4nz2KuIjqHGOk1A1/c/lta2upaGxPVzIJP2sKPAwxItR3wZAzXvtuohWfkx3KXo4O0c83klz7SGs0I7Eh8pu4L52KhO2pBpXwhjHXc2CcSHMZ3QIarQlyrUzjkWgOPrHlALIWujO5ZUHxBmXjlZI+KH45kwTdMGovhUpmjVESgJ7YaoCWFHGSUJL0NNqYzf08i3LSd5/EL3OcqG8suZ6NXNqoc4S32xGrKbarkexVOi/txJlvqlmlWXJ8wr9lZAhU1/PA4iQMUNtltINQ/Hzc1vQcoNx4PEzjYMlnus2BV88dMZBeMGOKkgokjvW/3XSAdB8IGQzT1HIt/56UOFr+ByFTaBuG0pSgBpKTsmALp0C7zLwIqfy31oswBNOieaTMbZylcsQZyuSzSzymJ48QIrfyUoBVLDDgvmEx8SL//7tG1Lxc7lBiByboid5ytxuGBtW72yTT4DDaQlPlRgIt/LH6zom0E9nGbeNynZ0vFE=
  - secure: w9kJrwXlTkqbts7R7/tUbZgBE1bj34l0pFo3y6llmw8Bno6VG68GWriuGxjg7sLnk1dFOEN/9I+hEuzNHgbSzYW7P/k1ZiKi4eLMQVPKV1hFJQRUkMTNgiJz4vm5HkS77kSF96r8wqWMM6aGIMH5c+C2rxhbnpwYPw7BrMNlOP31xpN4Uy/VTVzFFYz2IOCb+6rGktg+x4V7azIBIUgbJMocBEhTKDAS0FgqkZ2RkASWn72AvTKmU3td4HBHa6RWH4ErMDGjbQe9+7nY2IFN+B82Qv4vKgODYOKQ7HzjjMFHtFVp/MoYmaki50+Wn/8sOVlW+k+0YTkmYxgr6hQYnTj3wCAZlaqoFdmF7+NqITB/LuWyy9cIbEnScFIA9Gr29LwTCMGoRuohwa5txgMpwIulEPecw074t8IZRj84fORG/IwreMZ/L+pnz2M3vU5WxRsbTF9EeNKqrPlH9s+c2Av9NmvuQWmVo0R8IjzncCp3xjTOnzMMFnxeiuLM5VjV563v6NTwUuqFdn1vzIdVCb03PtvbA9wcUeuonsr53rtwxEBExgez2psZwMRGTmEUo1YrpEUvuvtm+Zy5YT83iCm8BI2ewkj+abn/elqMsMNRrorUb795VMV3TUmRAx5DRoXA0GEghSatrLJr53KKfcs5XXicVUiU9l8/U96f7j8=
  - secure: P2d959fIJOA71F4/zToMMFa/Vq/+kjz7zOI0rMLfzXg8lEl404Osmkc7FPfI1/ablrCfs0NlSEBJuEIGqmoZwi2/cVXTy/oC5ZkRw4TCHCLmOvMFX0bN/Z06VpfepTJPa5M0kbEuaWBXqLMMmpkQ0/u7jfKM7WXGylY/thAgdoxSFmtHBcXSwdsDdN9HoCdnjchqnY2YfmOBgZv362nVwsVW5Ef3HVxyXky57MPf9fBrtScheXOINggDjOlm37UwjCn6En7maYJjpTGn9iTd/ZwxPlOtfYpCnf5WVTqUKoBxlGUs0LeqoIzLbwtV87a4gJEW+G9J8cBizKP+NpyM60mR+rAnlBNCIMNvqGVP44NRwNU7lAgP+QPtpp36kMXLH85Z0+wHJ+EJ7VNqns0uJ9W3/6WGR1hjRnbgs0djJdTQCdQhGtteMGuCpqy6B8bI66f3kqdR1cH+sgXly0Qm5atCepOgzHcY0SM1ffdXOTFqpwRFckPx9n1JR9Qhuu9FudSwo9bH9Syo4Z1uxNNWTpkZfq8R4dxiQnQ98rpzhCXGjjOu8WfKDqkC39IZbpOO8v+dv1XSvzEr3QEM7RiUIiZ6XBKQy/em7p99NRHm5gGTHXLmDRSb7IHO2/mDUOFyO6EVi9Bcw9P7rptSIgKLymE2uDyCO4+NFqXubB5s2js=
  - secure: X2UkQ8vP5dl9+m6wHJh8ALaviJgk6PuwkHUm2ajgXjFb7LB0uTEsSqP37YavslP7ZAXqf0uG628HQcAd+O01kznqjTGKQ8DxoTCOfGY9o3Fb1dSh+u4iWed+104Jmevdx3rkarSfScBdhZVV0RQIPs+40g+iUQdIeGPKRHuUVkTUL820H0ZGXpnwBdFS7k5Lupl+/RVI1tBG+gB9l8PxgbZTCu7Z4XzvLq+nd5VNAUNidBS3hhjogF4o7NYXHSkvFJeAcvu2VEHqN86bO8bIEsa5ihK0PLIw03yye8mmadw7a+l6+cw2wOSs9deYRk+PKtBMvN/L1AjGd2XSBaobYHoqAdjp0MzyurJbA4kgTx1IC93uuIc+lf+uLCw+kY9yW1TN3Mo9xJ0b5ibvVQe/WdTBYkzFritg6WvyoOYg1/rtDGMtN5g11xkYdC+9tkId93ZIzoTOaQCtRvKm+t98LgI8Z/dxzDZbLdrw0DtrrmZUXkEO1y5I90fv+rrXR04Pi0ddnBxTHfD2/koDIX8pkAYdicCJc2m9uMSZTx9JhD6TK6FeD2qegYRx3CNylIhc356fB1eh/uG1T5jsoopGgtexUGIyTWpHqrgqd5BI6yZv3ibgcvp663/e6sQTmdeZ5pJxPxv9MldSImc6mDAXp4cfKFf3qWqJ0XRpAF8tJI8=
  - secure: Prd5ZgFhgrNL12ofVYV8KPWkpb7Mgiue96xJgcET16NimGyh+NPIimlrCfjkmjOHYxHbeKD7k8Z5zzaGnp4E9jxj5TIQgERLFvzFfJH4MrvDez2trD0o5d8oWuZ3Te1RM9gznMJWSjTB/JdHma3nQm47wBS6nB/GfZQQD6f4MoLLCz6yrRfh3IQsDQ+7k/IxR8YcTpZJoNo+e+VP4ICeaf5hDjLa1I67lmTD54VAerEzfVZDPKMJEQQa/ovz5FkoeMHOAKEANvTyNPRU2mfTZ3tg0cK7EN189eJd6XZv0z7mq+Tm8mWzG0Xvcap8N1uHU7su8/infVtor3tk2xB2JL5PsjnNoqLWvVxJesuOBfADARp0jU9jRXBoAdT/7IBXjJUHQWzg7MFOMkS+6uO0RgIPPx/2SD62rC+Kbm9L5WG/hIWk7LlCY+kTON3Dcna7znSflUPM9g5vf5zYoPATtm8u2sY2z+zYajkBs42XJa3lw/Y5oHsVFYWkgHyTzInig7Z9bjUd0Lje7+69CBI0eIbyD1O3HRQdKuLDqBLqX6Y2TxvIz+bhBpRO2RA2wT0H+HzM45cdm1DPykp0G4kh4NXZwj8A2rk1oumSL3w+gIT8i96it6mmeeMb80lJtAK3Id7ligJGMe2g32r7f5kKs8X/8UmIxABkbdnxyZjvuX4=
  - secure: pdoHHDNTTAd3IdY7SRY1ocFCzWMy1SuZVMC17tGT5E6KD8ULhypUKQ2c88/NsKfCLtWh9ZK+stsxxCGVbWBrKxcdfPojButFneGwFEhDyrtcf9v8n6+k10erwLcRepqiEpxTZ0wmZyHz4qMKOYyjbHhJmQowxyQ4C16EwjiN9NkzBrdLNi5TBp+R2UGfi7D7TkwVLMnnc46Wawx+w4J/pM6ossjzi/brxuXDiu1FBMQpdRa9oS1AvBb+Zk5OUyMpiBpmNu4HpfvJUcjiLXFd3p2t5j80sZZJBQcjpIqAZ9XQTriDs57QvUWPx8ewGyHCXruB2R5On+3/xfPgsbjO+xjuaszIPzYYZ4b8vNEv+87et3BYsSDAAOvYxGlPbH717e9CZTve3gFZIFDKWt0w/JrNKIyI51d7otjRPzr86kPCC3QqL9j1gIAD9b5/3v/PWSWQxiLSCskABX6d2jjmjmYh9HLXwE88mqkDJBOCGkaiEglXTARdvcdP81SIwpDyQzwVewhOYfGxFTnKnCLni4yLz2xw4Mk/m+EKzL3dehYhNaKJdpc9WaMevtE1QywCPFHdi2jldurMStK3ABBLsLQo7qK+TworBlfnHBFwSvrs3IFAlKHrj16TaPHNZgj9+4LAS3jD7rBrJqKDAY6XBdbkmZqCjmONG51tL/X905w=
  - secure: RNtSjXgmkY6gNyIwQBpXtt5J0gBlnr3dt/5J6K2of0hm3TwP1gYp3h92c0ywY1nvd2jXlKxD/Lajg8IoO7uHK0aKJoALiSA1l/TFABXiFkxzA9AtnHiq+3dQ+xDfrlwnTQezN70Z4WgjRbEJF0fm60KKeNcmEpIz4jD1OJ5Z/299LGYueZ9iTluLvzstGRX3KZSaU0+h9Y857eSAyUWFphdbZy3eKLClzztCvzmy06OH3egeUVI6mD+DUDep0ciGKhguJ15eAFjPYuNfQNA8y6C44bQDhVnV6l6ubsr/JLMA/iM09yXAlRluYi3hqy7wgs+JIKPl/ItdnepTdYIS7JNbezofI66p+U1eT3KehTMABl4kM2mtigjOEk4h1GM5vhBv+V4HusepjZ8GFJ7D0JAd8Y/HBWDRMAYR3vlGBUr0zGzMW81K+PDz0EjLvPaKOPvxmQuj+CVt/2JWL9iI6lMdoKbUMGpZESW2aBawGcMEyUg/um8F22dYz3C6ARncJMgSiUCUqmFOUklv0PMoec9VHZW7NBgXYQCW2lxr9rBQh2okXFZeK4hIQExKYJcmbSYSIJkiowOPRukCfZZq9cFi6SRSJ+z1H5jYC8C7IN0VsazAw5zhm1gl4ACf1n6HsZoO+8SAF5LihQl6LT5rkuDb977IWEDpTJnbvr/DMGU=
  - secure: gAHZXj6dfpmgMOuMIe41KDGuRYvnzj9WlFpZZrW9uGQhTWPe9cvmt8tS40Ww5MMCh80UQX7ffC8lxUIk/+v5N5FxBzZKnjRusSMLAamfZKBgphsSVV3K9mepxA7NIZYo/bYlqZyqGyz6baFtCAwlJtZxXbaMVQlCpDOLOUXWSNRrmfAyb9OYK01VYH45rbZ/bRILRGnoA3rjvugcaw4mdQJuEZqRqcrg2ts1zrueiQVbXscQkzs73roGSb92wbTI85JhVlI/vLc65nVswr1ivZ0D4AtEdKdvlLzBZpmePGpOqJR3Q++1otnU8/4E2QDXc15nkxWo13eVWJxAsp9IP6fqwAfYI989ZXOp9YXcdet/vs7DQPtjfnurbljJ5h6KnD6iiguxYwXNXYSNE2nFr96h4sQjAfLsZ7PvKOki+Za6NLG/J9WUbS8nQ+JwuvSiBJHnaFXo/TJDiTSpiz/ClN+EnWqxVkh1/O+mJ16NcCTjH3oXhbYeHxJSvCXNg6Pho+mnIcB8aK0hicZN+iWc7VmteHjp7o9kZE3C33xdcaQ64JaBcC8BgZedS0DYNTBfM13yZ2qJ4C+Gp0hdfvhGYJ6EdbufVmGcAyfGplOQIHnX2Vy4qbrkqdy68ALSUtWzzhUpNFdrRAwxp4h+66GK+0CQ7g2IQ8LQHGzpinChSQ8=
  - secure: ZLwtjnr4qGcgAXtmeRBJ0CHiwWCaqtPiRn3pnXyuD4SnQ7nFebMPP8GIcI8kZhoDEsn2zgRGyo6081OJacpxbNaHCISTDVGsdX5E/Tlk76613JO6ebpow3DcHjXG5aEra32C5AJA4iNxs5vdNsgfP8HPJVrhqSBulTNCI7GOcZatyuK5ghtSTCFgxfOnh30AZx0PWEhNDk9chPPpKULf8Z7Uqv1jF9acKFa8JZ4RL6VqrZZ55YGUdyo7DhZUkO9ynqYExmhMjmTH96wtThuEfw39eG5Rk8Eli1kGYQ7hS9VYq8ppJgZSyRN0VtoZI0f7kk9m4Btqffh7GpqXVe8ANjP6fy3r+FZX1A4rMjpf5cTwIqmIoSjbA5bCvu3mYLm33GwS2oWPE+/sIC3N1FVmBOxfV41bk6uFdOjpNjpJTMkefsazDVMRtn1kMMDBP/JgP4Q3afbo8YSzKTOuZf4fmMNtaC+8JP6kbPv4qfcTLq9WaOPIdFqFlDwMMRvDqJo/DaF31lIRD3rmc5IhT+ybJxyNesJ+jDsJoYlgfy3RaBuy5Ac2JqFI5xNWzlv1DFKU9giB6Y5HzeMOIBIfme2Qb7FWaBF46TY6xa+HnBb+SfCowOi996bni+lhNyvdwlGPg66VmBKCBe3686aH0aTNnkMBbyzxW6METP4rE9uTsI4=
  - secure: ihmk/sCOr9nipJckl2KomNGNVrj6l/WAF/7LCwA1DjjaT0SbB1yhMQC7tZV+i4PsPPDQaS2yzhiYSX4NQVs94R6LtUZshc8yStLNfrcKr/CVLnQm+YVbJbjVpVAXUATKeZzoITzRrbHddnpjOqLbolI2pKMEAhJMOnNxjI4RBz2XAz25xLW1Ju8L2I2I759c4QMLVYU30CJJwv9EDCctq8sdJ7er7YmshWpQLGdiwbmgnuhoYfojswTj4VALqmD0A6aN+XFIslHBrkVM1lZCIRLGAzDjyVoJTWK7VS8nKQ7QuS+nwavW+BH5/6egz4vgHSgQMUNBtR+G/QPYWyZ9wlbnkcYiYU2PTvrlnVaQk1d4qzB0kzfaixyAr0PiLKqXtN+aEBXzxUNCNMch2NTlTJINdcSohjI9GRLxvvQhUqmHyFD6c6dSAUejxAA8yRkk22HBF9iFcz8jt2banwPjzLTrq/TDq5FtIywSJ+6aBOHjed10sq8vwchWRz+XpaKOHFOtBSDA9P87QjAKAUT7tOPZ6kZKus2AN66QFDzgciVt/84P+Ms8H+mc43+9qTRwmZyHaGk9H9RlA9gGbNCSjPzZyGlePG+kDHYdh3UJGt4araIY13RjQ1bqBOw7OP4TCa21ze88yosGn4Z2GXK3DHVwg1NkiiNi8ZTkLyAOTV8=
  - secure: JiwtIZPAyUJY+pT+niGEibpoO5sFOZpbC11N1EYB7C0r+I7TbgUhDtYWFbFaShYZRywVAiJKSmGZ6HowaIQsoN6cn6xuFQvp7EUY4f/BbFUp9IoRIde6aJyTtB+yolRuDYWj1slXFachKch5anurIE0p5AP2b+L8Ap6HCRlOk1ve57QAyEaKVY5wLn6Uy424c8D7wzeZCPnKCYViWqysWTh8PFiyjQLCFD9QQ8KaOLuy25F9kZ5Vq67f2YS4sGqnqY9Chi6Hsvloz5VTnPnYuQky+92lIK8NJWK8uRSIFj3w0fPRFy/ITuTSaBkxFTF6mnCfGtmPd1uQidn/yLIQZrTff3n4Bk0uyB+d6q8AV+SR+1s71h0D01NCqv+J1VuXTRSU7737snWtWsg22Hqjq6oFFnFZ6tB8xsL10dSLZ+8Ixt/MYzbtCivtNG9aQNBPOXMiwJKo7z4W7cROutKMdfLg5fRGhQVH/RAzWgxVewK7XzcrBnqLAFOTKFUsWSJGOWXUuvkUoUTG3L/Gd5FUy2qEFMd67Pw0tf+njQh5J3vpbIAG13hj012pqLGyjHR75OVdv6V3vlu6BCOyH5upcPBI4qVwPScPYUWNkaBG0Sd9PQDNO+g/lXPFbvPWL+s7j61X4YHAM06cZVB6c8BoUC325Erxyb8rvcK9lO3A2Jg=
  - secure: xdyTwTgSnsNOG7Z04B85W+uLNdvrcr1d5fdhV9J61x4zsz9rs6mjk04pQPcR9MFHdfWnxkfPTWXSCRZDUmElYLxC/6gXNxiPjzpadT1y/1/xQmi24h3OOo9kiALIShzR6VR5oKOqaoEWrPwYxTsCHrW/JCtSNlNByg3w4OXzw90TBUkiwJ0pUSpYYeaj9h2HjNqsTKlCcSVk8XqJcAp3I4TmOr5JQqvmBDYSySiRVWoe1aOk0CdpZo6QhV3bsTZkGk2mbrb8J9hImp5kmVpW5YOs0//Pz1S3uXZoVpRRLHIYcbW8oVNhp4vaSbRf3Eh1mlIbHFef5kIg7SOCoCwb2fr0EswqJmhF2/3ZVLLoe7VHix30CGbW/CLzs6IFt/ZoyIUbaAcIXBgusLcW+yFYeqa3eL6oaGB1lWbYcmsS80G5rL4lWAdmXM9S29/+k6jGxDz5WMaixHcePb3hADULBR0gJYugmqvr2UGRDMdzZlJGdm/FRkBF5cC9djWRLDatYitbaj3hY1H0CpJ+Cpe+dF1l5ny+J/OsezAfy2a18G4fbjRnh1fncPIbryFl+cOzNG9POYNoKete4HH0RAw5Gar4RsLiQfRVlV5lh7ZH9y1SH+8iFnf574wa4lf5PQRv7Cy0/g2sV/FB1nt4TAzRy2A5OMgbmVVdYgw5cMukKFs=
  - secure: Xsz2ib/RlDKcs/x7K8sfxUmXpwr0Pn3lTRoO3Y9QjjdHhxQUE5rkxvsQM6b6lRWhoVHmkX7dqHf0y4ujvxeRctzPpFs3Qu/6Gp29Uxdb12NIdvUHzGCiUm9a89gcVIzRTW4vO+vITLA1vKUOAPLu4xWkTdG5XE9r5q5YnRCtB+Zl9OUNYi03togmcG3oAb/6YWwFSLwFb508u2rW5VaBAJ0KtfUwHZpcACmXtFFY0NjfXCimq8FfKZJ4oYSISTIOlk8Z5hjmkw8cNWuPZQS6CCwwFEjAqASYs82lPHycwC4SZ+N/necp+AG5WM8lv5HCrJunhH61A+CN9EXqUA/J+IYbhVqslX/+5GAlovbxbx9RxOe/Ii7waOwDnkrYTlkzoLPZ077OHROoxPcHVf8I22sldSnTRdxLIw8k1bxpSVF2v8HUxqah3Ey+pkJfMcWJPNphlLPQ3GWZXpw6FOCOAr7h3KsEATOiGzOtDn8qbAT7xXC1dMi3+BEG2Di+ZyM94whnsjPdCBGMqapdWVGioayLib02XHjRb7SBEiDtoG0vCg1Elbs5AX8gBhGhaXg7rOL+ZijO72dZjJWGFwVeoqqVZo2K8EeZqSBsUIGMR1zD9Hdw1blCxKaWkt+aTKcW2DGYxDZb3Rnp0fDwRGuKotbPC/XyfzVr1k0P7Znhb24=
  - secure: D+36cTb6q8/FZYQP7EMC5YIAFKgHWfOkurX5R7tdGxfzmQRUb7hwWLOqugzwK30giFPPt5qR5udvHf3B7I7iLeo4dqc5G1n01Loo9LO5eQNbxpSU9EE7137jEC9orLNePSsnjRM5FfxmY1AnLrJY6h1MIjCGpu/k/4gpiKwGqgQw83nkaPdeb47Akshk1e01lms9A9C7vF7VQE638HAZwHEjw9givkYVtnAKJCXnC84Gv7F9zatvDAFSS9gE9DhU3FcmDL4tWxz7C8gAQvF2hd9BEBo8xersgEGMbQZ7HM6NnPKtiKBYZuYhHTzrc5S8tisXcnlTo2BjjTLyi6DkUdyYDn+KS7+0aLzhtXfe0eTwUaEN9izBkf0JG6kVgydAL+x6SVDR3/P+OvXX5ODh4FsK8cRr+PyqasVZo5s60BcoeX1G41b2YkPFU8pnm8IuxyUj+Nn5BlhRnlYUf/vPM9nqAHmhuwuTcz7q2qy66xn15gEn3A5blb0JIlLxcJE3ha5XjuOPZXoSFOHFxUF9PDFNnldEodfBQCNnJayj6RPIM9pdbRmFDLolHsy2F8+QtoA2B5guf1jUQD0VoCy7xrU+Hq8sNtWvkuDVDQ15yIEI2UlLkJp+Z4CdAne64wI1b9rkg+jMCwAm0MBMizWBqKbtJouOxZ9IkYAa9AzLv30=
  - secure: YEKjMvod/Z+QylUqOd8HC/KV2wQqJDd8IDHoBzeopeqeDQCZnDZvOcc3/tGcKUyoFe5VNVv1YJWvAXa29N8oxaA5SQ+rhcDpeEQQPj5nzUB8+xUsjFoEP6BrKDgHnP/cb+O5TMlO+BIOcOrrc0M7/fcISR9ln5lkBHwALKiK254o8Qa4OysMcBk+cEnN+n39av6KNXyc4p3jpdbH76Ykd2QuYzO+ngoYDSutwyzDpNBwQ7QdaBR5bmw/tl1itHf8DUZXChX9NKRS5uX598DfqqzHoLo/rMQO6g98vVj8RYYN7G98IA8WKzTV5nslpZ9Yt/vrH3CLetiiWEZdSimPKo5iwv7frEzVCgwYdwlT4yT/7/g/6Oob5eJYV5xqwatRMXjOAkxFNZmTtQygJZIwYWA0oCeEBBfPnuYgfOIwju6fwvFEm7gtwqi1a+m8Psybs1NZpAIQ90aT2xMkfU38zHDXPHLTHxu5wEr1OzBx+NBkQNJ9wn5WHY/4dwdYgJxj5Rbep6pSpMjWmjFWXmE0+g7UdWlKY4GnbxtmGnw+Ww6X3bZw296FogQZ6xHU3c7yjexndycKV61bNjxBBAlq0E6ZN7YjCBVxOm5e+VUtiP4rTxuGctp2OpttVrDkDh7bx2Db6CeyTDs92kTNjlXNxGfUle8A0Ybn8TrWrul/0mM=
  - secure: ny5KIK4ZybowP6GgWWHBUZ0E54YPCgllCorZwxAnfQTGjxbWHwdlFWVCsvx7bqRuNqir1p56swUARlCvcKWAxsYL1kh2VDTVWYX4r2NSp7+OBGD49R3Pd6c1l9Fhu8Y0yC6cTaWaJKxvjcisJoSuU3Vpxw8gk0TUsT1dlfFfzzv/+fEQQOlaWVeEfc8xC/+yrbxYV43horhZ/ssEmUKK/S92b9+bb/5UMu+7m0anbsz2GWlOaOTG9ohLyGBvTs9eAlbyiWVK9EyMuXgFQEMuJgPkIeR01a5b1NYJuUFSjnRd45UQLPtpTGWDW+eBOJPCpRWh5Sipo2wHgjGEpvfntQlDZs+mAaEzgii0azh+EzOUfNyirI3PmDSb3nlMANjjzrQmNppn1jSPzEhofrHjjgPwy/s3GIyEjlnywKBw5jcY+OyIdzmife42ZIhH34MlQNvQCYzRBWfKSTjt3YeGSj3WI9jFSmjquwICpM1gE0uMM4zbujMa3MYlK7FTVVoGzCBEz+HB8xr0+Nq6OESJXs29LRBJasiORp7J30vKJb/AofLb+hOZ0uzVR/NR6ItJLXlY4z8jsJ5aOZttI0eMl/G/iN+AyOZYKJujXAHfg1MtKI0j0lTw1/dW/1Xykr0PYJhS89ThF8Db6V436agY+T9aOA/woux0xjWXhdh9aEY=
  - secure: ev4MCliWa7MV++LSwibiIZ+obCWgGmIODiLCmsTGbLh8FciWI7NQI5Gr36s/FISy60eRYH/5SYtn4pRzcA6e0A2XOipU75VLnuToC+ktMSpGkfAaUUcZMou/gzVolOIhSdLNpPgHPTNP+UWsoEJBAOnpUGIrZ6bXdyGusQoWO8u1KD4zFkI+wVLPJftio66viargYErtt1GYm4E7fspa2tbkwmQOaWf38nSCh7zZmEWF52m7Yriikxa2iDX+dMaTXijZBj/Z+fDyW//WgaYvmtSFmyM0s4pn0lbspSlbbINHB0SpwvU4D1aZI7zy1F3ITEyK4hU3+LGh1PF1Qlj+dXFChmtzNJw9JLT6xkc5CiXBxKK2OOAMkkFvH4cl31cwF4tt+F9Dw0StVLUGbeLVIO3++6p1OWIUX2Lk9HX6cwN515VuJIeiJx8dB5LXQg617zFFjZyAo96lpAO2UWetBXA3KjY1z6jpQMo2pNqBEBvq3zEU6KpfU5qj3oxi6YYptl5cRU4vsZQr4sxleIwbQjUCWPgk3a15io9hUWF1ViuFEixRudpENxmbIvLd7AzRmolIPlqyV0Pb+npFCR1di1TWOQCdzIYraiAmJizNSDAQKf0vJ79l3/gwRXlN0oF2nKPy8hkvbu1I8hdp3H7Xyf3+fzcsPNtlyf1/aQmzGTU=
  - secure: CkNU3Y5q8LKNZY18F585ABsCgskWH+K48gxQcDe5OWeXKSCy4q+64PlqsmMGtsbh1pUcVcQIFkI+fq/2oM6QqjSsMoyen31HepRmpFsH4JrbEqwcWiWWhl6HUv1OIsircGwvZAtVS/HL2fm8CRQU6xIZo58MNRHAIut5ORpmwglvBXAJavsxqPEf3GRhW5KYmmmyQEPa0AnQCZRrgySw//o3oh3qj6nd/qrCbpUmNbmCvf5MHsZ7jjsYQJDTh4riUNtQSCpqfxuqasqAHk9DypTyR22hDCmUM29AubqP4NrfKQezJpIHDYYm+BoAZ3MP1sEKGGTEI4a+8iZMCeV2olyROQapiQKNRCScmoHVX0Nj0XMxvea4m8nDIy5MZ+T4wZ2bUfCwLFWFA1OPehIRx34uYRpCH0JJT/Uv6i2U21fNkxdW3NrDXOFpdpu5fOAYlMSML0iFl/GyvEthwB7oSCCL0gLt6g6ien+rVLkonqzeKob0uEUYJMMgex6caWIfU5406mgGdwVF3iWg5TjxgctoehO1zw1MMzumGjsKkTDRauG+yFEETbjSCW3wJ4pMag2i8d1OVYwg8GfwbXnnanqR31pQ20d1eyLDriOy4ERXD6FPStFP+GhIP6S7GemXJC5qvaBe+14s4u6fs24clPErXbXdXl9vMr7MYnJSuyQ=
  - secure: ouaVN+y1rF9SUCI2C8KtekLY3SYWri+DBRfZErZ5pLBCF7IfncsMuxtLlzGGXXTah5K4MV6tUHMxXZ041qwCAZ1DjfOMjAJBwL91TeHr1WIn5ZYF7htRkuBcxDyxK6GRe4xQxlf4KlSzloPXS8lL3bI2xhoHDUH51YHNtGCLgIeG7wR4236wmb7ODoIMH2B8j0fJdA09s+7MSdBMPWCFPv2K/wZy/8mOzoR1hBADFE9q7xwq2BLT67Z4tr3iG+bv9684gmAAqmczCaGTiukMZLa/rtF9ZkAKqe76VQpRcuoch6LlqqiQ1cC6F8ygFqNCE+pE2LsGIEtBDdlOsAFUMuX++GZVqtGTO9oLBRINDx9zxEdN1T6wIBGMC2V6CODpoxd06qOrJYb9/Aniv/3bJBaTTnt3Gz3ytK8o6VW6GZG9g5kQ+imsjQajiweNMjpogV2caCe/nAeaVl14/XM84MnE3Wdhqbc8PPoRD6ypmDTQUUkhZybCoXe2NMSA5a0BDysqgBbfMphPw3uMQ0/F1aTHVzzV8sPROdWxCTQu5w+UNYIWlX2SbBKatQMaVxutMKduhIlPJ4hySvBp8vD2mScf8DjDiYI4LOjkOzoGLk0Dg0NAwO3Ak0eaIHOgEjEN/0v/GOhWY/m0uUVqnpZYSckr5p3kU+w4ZFhkqUAsgbw=
  - secure: w/ACJxMNkCFZvnV5EdEBILVTCMoDv5AXYn+Qvw/H+X3cTBTNMhh/JybeHHFPTD1wh7QKxTjqJMmBz2WgIeA/1GNKHVh5clhtpzpKqdeITzzoskL8mrzPAvuHJfF+aWAlgq8ZuEeC3QuXgLtckc8uy3jwtqwvTEdywMXzF3igqMxOLec1uYz0sLNDrFCJ/NBgw+EJlSdWTFfEoIWVH0GvuHdlgZELWittRCioFRO3ZkSEtqDUhqNE9yjvZYutO9OZ9zDIZVuwF9DmV1PlRkByawSryvKD6u30bbQruO8e+TrR6Lqp/xmF41KBpE8+vM++up17U07VgrsSBDtjW7gCr4ZRL0NYRJuWbne/bGXpn6cBRZxhmnCk2IX+kFKxRGc0uWH22IomGmQxu2pp6I/LK4mASQa8grLo+0HBtXCNs8n1kJ6Qgq1WMG9tvAyzzvZ6Rztcev+8mTtum+fEgLuL9HrkApE+w95Wk3iZVUES+RJdirsVPe2halYA3YytYrgww5y52BpP8VhiTaQ2gOJbO3ChYNV3eYd2OX1kOUbVRxJUBHwVGKf4wRi2XosNvHFshDqAXdsZLRpWwHRYYwvBzlztLqeuwxOEK7hINJt/m7cFo/vrrNBXKBWq1An+vDrcuUsFmLNnVHSEbYe+Ae0mmHSxHKuRwTxuPd+r1ZBRI7g=
  - secure: cbGZiFZs7KUmzulGkwVrX8LnYS8TdKXh+zo0hv0orvHnCWNRPxHknh5TmON2+rb6gSr2tMTAHKeO3Jmrka2xASP3GytUhvgLmM+G7H9sDwcV8165xKT7nmo7R3Th2bgL8O7ksaMXTKcnxYnh6E40Jr+aG9MSf82CcV1jyPqU410JEdk+wjxbeql+hhKQyiKxT7oC2bNraKBxVObFJV4cqR/7fPIJ7sew2yGBHo9M6mgDZdBnR701uj+dtuN8zu2iAwDokqwXok1nCODzEQfYUdrVnn/5TdCZABpZ2wKwOAo2cnl186UAfHhjhK8VDyRZ8djME5gAuq2U03I7Blp0ePqtHLmqqaTd/JFYV55OsSufOo2DpJ55P0l9tdGAf7A6yrfOliG3F4WT6iAULG7buxhZapBNSpR8NbCGpmGtFfEwLgG7pk5Jayp0nWiVIchDGDDK5kMNSAcb7ni6NlkGd7Ef01PJd1jb12hE3JPNvLQ8eyYlTprcAR6xr405XBonubEtzSovrxsgjKfloe3qTsKELADcocIxZS4NkpAypj4XyB8V9reAq6zmiaHTtFv0B1FwFaCayA/Q7HMw7RUkm5O+HUeDljY3ioNpH3TMU4auecuUD7+SSTM+4cGxL+sejwNiqhJE0JDbHeF3u54WI5bz6aoJGSMX18Qrb52017A=
  - secure: By9aNzUm4N8XUILHwxZciycVlcdIDKJlpYFzmQ2TwdHwPXbG/v8SPXuDuYo5wXVPiF1yyq8Po4hAkPyZHps3Kg+jFTeo6N5vdnyez0ZYSzcCPy2EfkgcBXmuGyEA5pL5SIYle9y3jYMzI0zKyUSrUE5db3RhEHj1hoNE1I+9DGYbRYsgud18lFirD1hIfuCswHHHDf2t0zBVief5kI9RTi3JvmFrRZx3YFQDgH8K8xv+wl+ag2e3DIF6Jsps0id2NG+2yFAzDrzUk2TmVejQfjU+lsN221LSP2+dp8sU+/WfEfP31v7gzqHlRSP+4rwEuVxpRogl+jnToYB9zQhM7B0gdKJDpVT3hFOFUxKmY9aZJHA/Ak21WnhD4SgisDyuH3wzsKeUPQ1qF5Sh0Jz59ni9v+wXpwx9fzkhP411APxVq2Ke1ayhA7Em3znfGglsnkhUvJlgXiGFEM9Z8SDSLeuqD3d4U4aC2gEoCa6GarB7x9F7Gp9ohAVk3YpSj4WFNBkuEfQ7HQvcC3QkWzihK2twX8cZYALoiQiZsrIPNaQ+OOMmuzyVeOTlI/TlSvvFtpezZga2CDf9W5sqRSNmYn6Zg+rjsinySJfUriyXstOQe+hh2FxuFxKbaOf2qbp16qCAn8BW1Wura0aZseenpDgXrrsu5PVC64MFC8l5Efk=
  - secure: tRCMoQ3f8TgXRQ2KRpo/HeZgErqLzoVnFSa3iO6lftEHFx5NTxGbvIQG5wrgJDW3GOuU1zI3RQUtWEAfWOXPZThOG89VcPfvtwWyJCUcq+1sqdySWUHivYNKOARP225VtRAlPtj0/bIRNBCXhvyPtKbH2u84M/4iz6Cjq/F9l6tsuoJlPp93fyc3UfR5sYuiVng9nxTudNkL2suFdrBoy3o9mkSmaQ3+Tlm5Ubw3IuN3d0TexqK5eD5XCaBXEs7w/a1T41rDjvDwmiHJKAvQ7vXkMHZyVltlT5xfNQ9pDzuRb5yVuMmMkXPBtMAtNiOCTVrkU7rzgOYu9GUcYV3NUmlBYP1bKPRnbO2uAQv1y+fwVjaGhkGAnuCoCaA4jCIW/QEB+muUCo2Wbsh6Lx2C4S/Y38G9yo4xyMaYDRJ2N0xEUfrZIPdWbErgVE7DpmO09o7xkad8gUjyyY/Om8hZi4PVgdZG/2f5gR8EkoeNaN9THVUoS9OGa11Fiin7UX8zVy9S/SfFGps2AeXKhpMNR5PMs5woTxDuSx0z5XF91eSSFzSwCXBQWqDiPfvMb7u+VNJY7fW+jY4V0Qm73oK8JVYKwtkISs6Z8higyuBz8gBkE0gO5jwO/XZLH+aW/cxPmQZBXR39ML6BYZGfYciy0AcnZohrhefIk/MFG0+a4fQ=
  - secure: st3ZuL3VLIQ9GMN5hZjqG+ubtLClke99xAHIsRipIOvozkUM5FzbiAOtyYCwtO6iASRdVIUmctj9p5TFHU05WPJURKyCIUs5O2pUydg7h3No+9/3se4MChxawY5VfURoitCTXx3wJej+Icf2IsPu5eQ7QrpLfhjjUgFsKgKYSLc5+2iQJ3hQ/R2uHxLrdMGVFxmwNM5G5XVJmfzl5NG00tJuy+e5gE/Mp7gqfoDfRBSvLKP2jWPb1KuLLQJ75VT7J/JUVK+7MElC4ZqJ7s1pVYHy2+1TneilmEst1U7j777HNOPcaOufUFikWgtPRiCP29sOls+DAz3qUQEfnyTgJjMji5mC2c8ganzVAgKKqg1djq+JiJfWAZVuwVb1DFsPNl0Mq/QESux4LQER2VJpjggKhKm/+/K4viRpePPWPvaPpDDByN4YZ02QsBleeba567ZnC6Io0tlWHx/iF4BsaGfpRQAh8dzz5A8i19rfeR48xwJjC5wchVjEfqAMWzl2ZukFQ+RtRIJErj5Tagd92jtCM0xTSUlRm2RNQ8mdwAwO2VA5SDFNyWKX5Lb7ibp4dGrpiXTLhKpWAm9t8P9x5GPvT2DE4KQzjEFGE3w4ddNQSWdVSu5GaQEQ7gDoHo0wJPtdQz7YXvSUd0PWRhRn5yBNe9Fbhn29Ir0gwL7D1s8=
  - secure: VXxzYDVSIFrmqcVJqgtqbx4Xce5OZH8ZZdrGCFQ8zgjTRMmkF0vlFOJLFAzYsKM8w1/52xXx/8AdbFsJEopYywAcrFIPhzlRL44r23lRCitW/gnHblQ9moGu6jCzPZQswSI2gaodmBqJxSF05V+0w6BBrzuZUS3VIhSIVaO8R+VJLh1cD1FASeVwqQBnqYUVFECLTDJnmS1A5Bn97lleo4ZQPdGeFU8iAj0S4yW7pbQPkIhdcgRTzXP1V+35G7ND07EF3gxUFNZsM0KbQx3CryTW8EWiqAf42fTHKYwFVVhnp15/XmR+iAf4ryuIKy/5VvmyPZoS5hLosECdkQke786aly63AJ6WqPqxlOzgzZDjeCy4V42ywpMquD6n/wJE2U7a+WcDwGC8KrLZThgJL5V91E3u3pJBH1DghWbAWUOkB5rbxCgaiT3fkDc2SzTMBt8svdqCVGtf1qywAjeGCKcgoQEpW0H309O8k9nnbmzvJBvn31ZCGQkIuGkDJ2kdz36o0m0JHMNEoX4y19flL7H0iD++mmhvX283gKEQVTmDk+DsMRFgCXojlOj5rQw6ZzwxfWdkI8F8h2U9hBBZlTGikkb1n3Xu8gf7w+XegEMO/YypJwTxHrMlayxfDUQHqQO0aWnN4SkTAs584B6ra6zdEP0isFHBflUUnbXdemw=
  - secure: gTLYS7Imyj4fLLwN/Kire2ds2oj8a9T6kOzJyqgsn+CNXZaub1k0MlkmXftJZkj5XYCLfXbiaet4ntlW0Kfzr2f9npYDvMzycG/+q5tvuIe45Uq9pXeA3z2L7HQjT+KFsJKsQJT3SO/Zxc12b4LO42x8MYjXIYCb1EVM8Qd8v9agxD4go0FJkwjywl1GmIo80vkcUoEm9I4jV9uCAuUEv8p2zfm0KW6vgx3j6WtHvmJ1OWwb8NU50X0PYJQPpJZWRSGigMWj75RHpS3MuO0882ShWECwShNdS4ygvB0okqdGaerbMyPGuqNkrhvz7GhON4IfWvq7TxYNKKQeuPv9lYs7w6DPAZWnV8ASnCzpwSZ1AJAxuYNK9x4Gc+7yuk4AQXMLH7/obVpVpNXwOxGUdoeTE1GNo5l+2XzGUqhQHWP4yDsSXD0holixGfkdTfxvDFaY6PYqM+4Bo9LQPCpkogjwCGmn5ylSTUt9AGBVw2yWzSKHFF6Bo1mssEtx/MTIQjHsIIIFNa5/GcWefIDxTvv8zORgL+D/kq9E6t4YN0cCIQnkkDiASuLngrfX37sBr/hPhEVGOcQGBbrBSEW3Hzt9Bm5s2zxoy744jeX8G3v9X0VX2++kYjQgnhj+CQzBAhBlqc4S0dNapqAxuB0mvCmy4E/lQ5RBgf9+zOb6h1U=

before_install:

  - curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
  - sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable"
  - sudo apt-get update
  - sudo apt-get -y -o Dpkg::Options::="--force-confnew" install docker-ce
  - sudo rm /usr/local/bin/docker-compose
  - curl -L https://github.com/docker/compose/releases/download/1.29.1/docker-compose-`uname -s`-`uname -m` > docker-compose
  - chmod +x docker-compose
  - sudo mv docker-compose /usr/local/bin
  - sudo apt-get install google-cloud-sdk
  - curl -L https://github.com/GoogleCloudPlatform/docker-credential-gcr/releases/download/v2.0.4/docker-credential-gcr_linux_amd64-2.0.4.tar.gz > docker-credential-gcr_linux_amd64-2.0.4.tar.gz
  - tar xvzf docker-credential-gcr_linux_amd64-2.0.4.tar.gz
  - sudo mv ./docker-credential-gcr /usr/local/bin/
  - sudo chmod +x /usr/local/bin/docker-credential-gcr
  - sudo apt-get install apt-transport-https ca-certificates gnupg
  - openssl aes-256-cbc -K $encrypted_8e985e89765c_key -iv $encrypted_8e985e89765c_iv -in amokryshev-com-ed5e5b49836f.json.enc -out amokryshev-com-ed5e5b49836f.json -d
  - curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo apt-key add -
  - echo "deb https://apt.kubernetes.io/ kubernetes-xenial main" | sudo tee -a /etc/apt/sources.list.d/kubernetes.list
  - sudo apt-get update
  - sudo apt-get install -y kubectl
  - nvm install 14.4.0
  - nvm use 14.4.0
  - npm install yarn
  - pip install --upgrade pip

install:
  - envsubst < composer/docker-compose-travis-test.yml > composer/docker-compose-travis-test-substituted.yml
  - docker-compose -f composer/docker-compose-travis-test-substituted.yml build
  - docker-compose -f composer/docker-compose-travis-test-substituted.yml up --detach
  - yarn
  - node webpack/build.js
  - pip install --no-cache-dir -r requirements.txt
  - python manage.py create_or_use_db
  - python manage.py migrate


script: xvfb-run --auto-servernum --server-num=1 python manage.py test

before_deploy:
  - gcloud auth activate-service-account amokryshev-com-ci@amokryshev-com.iam.gserviceaccount.com --key-file=amokryshev-com-ed5e5b49836f.json
  - gsutil cp -r ./uploads/. gs://amokryshev-com
  - export MV_RUN_SCRIPT_MAINSITE="\$MV_RUN_SCRIPT_MAINSITE"
  - export MV_RUN_SCRIPT_NGINX="\$MV_RUN_SCRIPT_NGINX"
  - envsubst < mainsite.dockerfile > mainsite.dockerfile.substituted
  - envsubst < nginx.dockerfile > nginx.dockerfile.substituted
  - docker-compose -f composer/docker-compose-travis-deploy.yml build
  - docker-credential-gcr configure-docker  --registries="eu.gcr.io"
  - docker-credential-gcr config --token-source="gcloud"
  - docker tag composer_nginx eu.gcr.io/amokryshev-com/nginx
  - docker tag composer_mainsite eu.gcr.io/amokryshev-com/mainsite
  - docker push eu.gcr.io/amokryshev-com/nginx
  - docker push eu.gcr.io/amokryshev-com/mainsite
  - gcloud config set core/project amokryshev-com
  - gcloud container clusters get-credentials site-cluster --zone europe-west3-a --project amokryshev-com
  #- kubectl apply -f mainsite.app.yaml
  #- kubectl apply -f nginx.app.yaml
  - git add .
  - git commit -m 'commit before deploy'

deploy:
  provider: script
  script: kubectl rollout restart deployment mainsite
  on:
    branch: develop

